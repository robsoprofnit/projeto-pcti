{% extends 'paginas/modelo-manager.html' %}

{% load static %}

{% load crispy_forms_tags %}

{% block titulo %}
    <title>Cadastrar Dados</title>
{% endblock %}

{% block conteudo %}
    <div class="container">
        <h3>{{ titulo|default:'Cadastro' }}</h3>
        <p class="lead">
            Todos os campos vazios serão definidos com valor 0 (zero).
        </p>

        <hr>

        <form action="" method="POST">
            {% csrf_token %}

            <p>{{ form.id_relatorio }}</p>

            <select name="relatorio" id="relatorio">
                <option value="">-----------------</option>
                {% for relatorio in relatorios %}
                    <option value="{{ relatorio.pk }}">{{ relatorio }}</option>
                {% endfor %}
            </select>

            <table>
                <tr>
                    <th>Variável</th>
                    <th>Resposta</th>
                </tr>
                {% for variavel in variaveis %}
                    <tr>
                        <td>{{ variavel }}</td>
                        <td><input type="number" name="variavel-{{ variavel.pk }}" value="0" step="0.01"></td>
                    </tr>
                {% empty %}
                    <tr>
                        <td colspan="3">Nenhum registro encontrado.</td>
                    </tr>
                {% endfor %}

            </table>

            <button type="submit" class="btn btn-light mt-3">{{ botao|default:'Cadastrar' }}</button>

        </form>
    </div>
{% endblock %}